{"remainingRequest":"C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\node_modules\\ts-loader\\index.js!C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\src\\handlers\\classes\\classService.ts","dependencies":[{"path":"C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\src\\handlers\\classes\\classService.ts","mtime":1704497700785},{"path":"C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KdmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7DQogICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9DQogICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH0NCiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7DQogICAgfSk7DQp9Ow0KdmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHsNCiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnOw0KICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCAidGhyb3ciOiB2ZXJiKDEpLCAicmV0dXJuIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnOw0KICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfQ0KICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHsNCiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTsNCiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHsNCiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbInJldHVybiJdIDogb3BbMF0gPyB5WyJ0aHJvdyJdIHx8ICgodCA9IHlbInJldHVybiJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDsNCiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTsNCiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHsNCiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9Ow0KICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTsNCiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7DQogICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9DQogICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9DQogICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9DQogICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTsNCiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pOw0KICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9DQogICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9Ow0KICAgIH0NCn07DQpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOw0KZXhwb3J0cy5yZW1vdmUgPSBleHBvcnRzLmxpc3QgPSBleHBvcnRzLmdldCA9IGV4cG9ydHMudXBkYXRlID0gZXhwb3J0cy5jcmVhdGUgPSB2b2lkIDA7DQp2YXIgZXJyb3JfMSA9IHJlcXVpcmUoIkAvbGliL2Vycm9yIik7DQp2YXIgY2xhc3NNb2RlbF8xID0gcmVxdWlyZSgiQC9tb2RlbHMvY2xhc3NNb2RlbCIpOw0KdmFyIGxvZ1NlcnZpY2VfMSA9IHJlcXVpcmUoIi4uL2xvZy9sb2dTZXJ2aWNlIik7DQp2YXIgY2xhc3NFcnJvcnNfMSA9IHJlcXVpcmUoIi4vY2xhc3NFcnJvcnMiKTsNCnZhciBjcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgdXNlcikgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgbmV3Q2xhc3M7DQogICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkgew0KICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7DQogICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNsYXNzTW9kZWxfMS5DbGFzcy5jcmVhdGUoZGF0YSldOw0KICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgIG5ld0NsYXNzID0gX2Euc2VudCgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvZ1NlcnZpY2VfMS5sb2dTZXJ2aWNlLmNyZWF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyLl9pZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnQ3JpYXIgYXVsYScsDQogICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJBdWxhIGNvbSBpZCAiLmNvbmNhdChuZXdDbGFzcy5faWQsICIgY3JpYWRhIGNvbSBzdWNlc3NvISIpDQogICAgICAgICAgICAgICAgICAgIH0pXTsNCiAgICAgICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgICAgICBfYS5zZW50KCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ld0NsYXNzXTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSk7IH07DQpleHBvcnRzLmNyZWF0ZSA9IGNyZWF0ZTsNCnZhciB1cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgdXNlcikgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgdXBkYXRlZENsYXNzOw0KICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsNCiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgew0KICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBjbGFzc01vZGVsXzEuQ2xhc3MuZmluZEJ5SWRBbmRVcGRhdGUoZGF0YS5faWQsIGRhdGEsIHsgbmV3OiB0cnVlIH0pXTsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICB1cGRhdGVkQ2xhc3MgPSBfYS5zZW50KCk7DQogICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVkQ2xhc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIGVycm9yXzEuZXJyb3IpKGNsYXNzRXJyb3JzXzEuY2xhc3NFcnJvcnMuQ0xBU1NfTk9UX0ZPVU5EKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbG9nU2VydmljZV8xLmxvZ1NlcnZpY2UuY3JlYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIuX2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdBdHVhbGl6YXIgYXVsYScsDQogICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJBdWxhIGNvbSBpZCAiLmNvbmNhdCh1cGRhdGVkQ2xhc3MuX2lkLCAiIGF0dWFsaXphZGEgY29tIHN1Y2Vzc28hIikNCiAgICAgICAgICAgICAgICAgICAgfSldOw0KICAgICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgICAgIF9hLnNlbnQoKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdXBkYXRlZENsYXNzXTsNCiAgICAgICAgfQ0KICAgIH0pOw0KfSk7IH07DQpleHBvcnRzLnVwZGF0ZSA9IHVwZGF0ZTsNCnZhciBnZXQgPSBmdW5jdGlvbiAoY2xhc3NJZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgZm91bmRDbGFzczsNCiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7DQogICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHsNCiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgY2xhc3NNb2RlbF8xLkNsYXNzLmZpbmRCeUlkKGNsYXNzSWQpXTsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICBmb3VuZENsYXNzID0gX2Euc2VudCgpOw0KICAgICAgICAgICAgICAgIGlmICghZm91bmRDbGFzcykgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgZXJyb3JfMS5lcnJvcikoY2xhc3NFcnJvcnNfMS5jbGFzc0Vycm9ycy5DTEFTU19OT1RfRk9VTkQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZm91bmRDbGFzc107DQogICAgICAgIH0NCiAgICB9KTsNCn0pOyB9Ow0KZXhwb3J0cy5nZXQgPSBnZXQ7DQp2YXIgbGlzdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7DQogICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkgew0KICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2xhc3NNb2RlbF8xLkNsYXNzLmZpbmQoKV07DQogICAgfSk7DQp9KTsgfTsNCmV4cG9ydHMubGlzdCA9IGxpc3Q7DQp2YXIgcmVtb3ZlID0gZnVuY3Rpb24gKGNsYXNzSWQsIHVzZXIpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7DQogICAgdmFyIGRlbGV0ZWRDbGFzczsNCiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7DQogICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHsNCiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgY2xhc3NNb2RlbF8xLkNsYXNzLmZpbmRCeUlkQW5kUmVtb3ZlKGNsYXNzSWQpXTsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICBkZWxldGVkQ2xhc3MgPSBfYS5zZW50KCk7DQogICAgICAgICAgICAgICAgaWYgKCFkZWxldGVkQ2xhc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIGVycm9yXzEuZXJyb3IpKGNsYXNzRXJyb3JzXzEuY2xhc3NFcnJvcnMuQ0xBU1NfTk9UX0ZPVU5EKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbG9nU2VydmljZV8xLmxvZ1NlcnZpY2UuY3JlYXRlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIuX2lkLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdFeGNsdWlyIGF1bGEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiQXVsYSBjb20gaWQgIi5jb25jYXQoZGVsZXRlZENsYXNzLl9pZCwgIiBleGNsdVx1MDBFRGRhIGNvbSBzdWNlc3NvISIpDQogICAgICAgICAgICAgICAgICAgIH0pXTsNCiAgICAgICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgICAgICBfYS5zZW50KCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRlbGV0ZWRDbGFzc107DQogICAgICAgIH0NCiAgICB9KTsNCn0pOyB9Ow0KZXhwb3J0cy5yZW1vdmUgPSByZW1vdmU7DQo="},{"version":3,"file":"C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\src\\handlers\\classes\\classService.ts","sourceRoot":"","sources":["C:\\Users\\mrcsm\\Desktop\\base-api-serverless\\src\\handlers\\classes\\classService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAmC;AACnC,kDAA2C;AAG3C,gDAA8C;AAC9C,6CAA2C;AAE3C,IAAM,MAAM,GAAG,UAAO,IAAY,EAAE,IAAW;;;;oBAC5B,qBAAM,kBAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAA;;gBAAnC,QAAQ,GAAG,SAAwB;gBAEzC,qBAAM,uBAAU,CAAC,MAAM,CAAC;wBACtB,IAAI,EAAE,IAAI,CAAC,GAAG;wBACd,KAAK,EAAE,YAAY;wBACnB,MAAM,EAAE,sBAAe,QAAQ,CAAC,GAAG,yBAAsB;qBAC1D,CAAC,EAAA;;gBAJF,SAIE,CAAA;gBAEF,sBAAO,QAAQ,EAAA;;;KAChB,CAAA;AAiDC,wBAAM;AA/CR,IAAM,MAAM,GAAG,UAAO,IAAY,EAAE,IAAW;;;;oBACxB,qBAAM,kBAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAA;;gBAA3E,YAAY,GAAG,SAA4D;gBAEjF,IAAI,CAAC,YAAY,EAAE;oBACjB,MAAM,IAAA,aAAK,EAAC,yBAAW,CAAC,eAAe,CAAC,CAAA;iBACzC;gBAED,qBAAM,uBAAU,CAAC,MAAM,CAAC;wBACtB,IAAI,EAAE,IAAI,CAAC,GAAG;wBACd,KAAK,EAAE,gBAAgB;wBACvB,MAAM,EAAE,sBAAe,YAAY,CAAC,GAAG,6BAA0B;qBAClE,CAAC,EAAA;;gBAJF,SAIE,CAAA;gBAEF,sBAAO,YAAY,EAAA;;;KACpB,CAAA;AAkCC,wBAAM;AAhCR,IAAM,GAAG,GAAG,UAAO,OAAe;;;;oBACb,qBAAM,kBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAA;;gBAA1C,UAAU,GAAG,SAA6B;gBAEhD,IAAI,CAAC,UAAU,EAAE;oBACf,MAAM,IAAA,aAAK,EAAC,yBAAW,CAAC,eAAe,CAAC,CAAA;iBACzC;gBAED,sBAAO,UAAU,EAAA;;;KAClB,CAAA;AAyBC,kBAAG;AAvBL,IAAM,IAAI,GAAG;;QACX,sBAAO,kBAAK,CAAC,IAAI,EAAE,EAAA;;KACpB,CAAA;AAsBC,oBAAI;AApBN,IAAM,MAAM,GAAG,UAAO,OAAe,EAAE,IAAW;;;;oBAC3B,qBAAM,kBAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAA;;gBAArD,YAAY,GAAG,SAAsC;gBAE3D,IAAI,CAAC,YAAY,EAAE;oBACjB,MAAM,IAAA,aAAK,EAAC,yBAAW,CAAC,eAAe,CAAC,CAAA;iBACzC;gBAED,qBAAM,uBAAU,CAAC,MAAM,CAAC;wBACtB,IAAI,EAAE,IAAI,CAAC,GAAG;wBACd,KAAK,EAAE,cAAc;wBACrB,MAAM,EAAE,sBAAe,YAAY,CAAC,GAAG,gCAAwB;qBAChE,CAAC,EAAA;;gBAJF,SAIE,CAAA;gBAEF,sBAAO,YAAY,EAAA;;;KACpB,CAAA;AAOC,wBAAM","sourcesContent":["import { error } from '@/lib/error'\r\nimport { Class } from '@/models/classModel'\r\nimport { IUser } from '@/types/IUser'\r\nimport { IClass } from '@/types/IClass'\r\nimport { logService } from '../log/logService'\r\nimport { classErrors } from './classErrors'\r\n\r\nconst create = async (data: IClass, user: IUser) => {\r\n  const newClass = await Class.create(data)\r\n\r\n  await logService.create({\r\n    user: user._id,\r\n    event: 'Criar aula',\r\n    detail: `Aula com id ${newClass._id} criada com sucesso!`\r\n  })\r\n\r\n  return newClass\r\n}\r\n\r\nconst update = async (data: IClass, user: IUser) => {\r\n  const updatedClass = await Class.findByIdAndUpdate(data._id, data, { new: true })\r\n\r\n  if (!updatedClass) {\r\n    throw error(classErrors.CLASS_NOT_FOUND)\r\n  }\r\n\r\n  await logService.create({\r\n    user: user._id,\r\n    event: 'Atualizar aula',\r\n    detail: `Aula com id ${updatedClass._id} atualizada com sucesso!`\r\n  })\r\n\r\n  return updatedClass\r\n}\r\n\r\nconst get = async (classId: string) => {\r\n  const foundClass = await Class.findById(classId)\r\n\r\n  if (!foundClass) {\r\n    throw error(classErrors.CLASS_NOT_FOUND)\r\n  }\r\n\r\n  return foundClass\r\n}\r\n\r\nconst list = async () => {\r\n  return Class.find()\r\n}\r\n\r\nconst remove = async (classId: string, user: IUser) => {\r\n  const deletedClass = await Class.findByIdAndRemove(classId)\r\n\r\n  if (!deletedClass) {\r\n    throw error(classErrors.CLASS_NOT_FOUND)\r\n  }\r\n\r\n  await logService.create({\r\n    user: user._id,\r\n    event: 'Excluir aula',\r\n    detail: `Aula com id ${deletedClass._id} excluída com sucesso!`\r\n  })\r\n\r\n  return deletedClass\r\n}\r\n\r\nexport {\r\n  create,\r\n  update,\r\n  get,\r\n  list,\r\n  remove\r\n}\r\n"]}]}